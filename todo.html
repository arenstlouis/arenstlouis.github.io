<html>
	<head>
		<h1> To-Do List </h1>
		<link rel="stylesheet" href = "stylesheet.CSS" type = "text/css" />
	</head>
	<script type="text/javascript">

		function addListItem() {
    		var newli;
    		task = document.querySelector("#demo");
    		date = document.querySelector("#date");
    		tasklist = document.querySelector("#listText"); 
    		priorityValue = document.querySelector("#priority").value;
    		listValue = document.querySelector("#listType").value;
    		newli = document.createElement('ul');
    		newli.type = "text";
    		newli.className = priorityValue;
    		newcb = document.createElement('input');
    		newcb.type = 'checkbox';
    		newli.appendChild(newcb);
    		t = document.createTextNode(task.value + "	Due By:  " + date.value);
    		newli.appendChild(t);
    		righttask = findFunction();
    		tasklist.className = listValue;
    		tasklist.appendChild(newli);
    		task.value="";
    		
    		newcb.onclick = function() {
    			newli.style.textDecoration = "line-through";
    		}
    		localTextSave();
    	}
    	function findFunction() {
    		if (tasklist.className == "General") {
    			return "General";
    		}
    		if (tasklist.className == "School") {
    			return "School";
    		}
    		if (tasklist.className == "Work") {
    			return "Work";
    		}
    	}
    	function localTextSave() {
    		listText = [];
    		
    		text = document.querySelector("listText");
    		for(var i=0; i < listText.length; i++) {
    			listText.push(text[i].innerText); 
    		}
    		console.log(listText);
    		localStorage.setItem("todoText", JSON.stringify(listText));
    	}
    	
    	function localTextLoad() {
    		textget = localStorage.getItem("todoText");
    		
    		textarray = [];
    		
    		textarray = JSON.parse(textget);
    		
    		for(var i=0; i < textarray.length; i++)
    			addListItem("text", loadText[i]); 
    	}
    			
	</script>
	<style>
		.High {
			color: red;
		}
		.Medium {
			color: green;
		}
		.Low {
			color: yellow;
		}
	</style>
	<body onload = "localTextLoad()">
		<label for="demo">Enter Task</label>
		<input required type="text" id="demo" size=40 placeholder = "Enter Your Task Here" onfocus="if(this.value == 'Enter Your Task Here') { this.value = '';}" value="Enter Your Task Here">
		<input required type="text" id="date" size=40 placeholder = "Enter Your Due Date Here" onfocus="if(this.value == 'Enter Your Due Date Here') { this.value = '';}" value="Enter Your Due Date Here">
		<select id="priority">
			<option>High</option>
			<option>Medium</option>
			<option>Low</option>
		</select>
		<input type='button' onclick='addListItem()' value='Submit' />
		<br>
		<br>
		<b>Which Task List would you like to add your task to? </b>
		<select name = "listType" id = "listType">
			<option value = "General"> General </option>
			<option value = "School"> School </option>
			<option value = "Work"> Work </option>
		</select>
		<br>
		<br>
		<b>Which List Would you like to view? </b>
		<!--
		<select name = "listSelect" id = "select">
			<option value= "General"> General </option>
			<option value="School"> School </option>
			<option value= "Work"> Work </option>
		</select>
		-->
		<br>
		<br>
		<button onclick = "toggle('General')"> General </button>
		<button onclick = "toggle('School')"> School </button>
		<button onclick = "toggle('Work')"> Work </button>
		<br>
		<p>Your task list is: </p>
		<section>
		<box>
		<general id="General">
		<b> General </b>
		<ul id="listText" class="General"></ul>
		</general>
		<school id="School">
		<b> School </b>
		<ul id="listText" class="School"></ul>
		</school>
		<work id="Work">
		<b> Work </b>
		<ul id="listText" class="Work"></ul>
		</work>
		</box>
		</section>
	</body>
</html>
			
			