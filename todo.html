<html>
	<head>
		<h1> To-Do List </h1>
		<link rel="stylesheet" href = "stylesheet.CSS" type = "text/css" />
	</head>
	<script type="text/javascript">

		function addListItem() {
    		var newli;
    		task = document.querySelector("#demo");
    		tasklist = document.querySelector("#listText");
    		priorityValue = document.querySelector("#priority").value;
    		newli = document.createElement('ul');
    		newli.type = "text";
    		newli.className = priorityValue;
    		newcb = document.createElement('input');
    		newcb.type = 'checkbox';
    		newli.appendChild(newcb);
    		t = document.createTextNode(task.value);
    		newli.appendChild(t);
    		tasklist.appendChild(newli);
    		task.value="";
    		
    		newcb.onclick = function() {
    			newli.style.textDecoration = "line-through"
    		localTextSave();
    		}
    	}
    	function localTextSave() {
    		listText = [];
    		
    		text = document.getElementById("#listText")
    		for(var i=0; i < listText.length; i++){
    			listtext.push(text[i].innerText); }
    		
    		console.log(listText);
    		localStorage.setItem("todoText", JSON.stringify(listText));
    	}
    	
    	function localTextLoad() {
    		textget = localStorage.getItem("todoText");
    		
    		textarray = [];
    		
    		textarray = JSON.parse(textget);
    		
    		for(var i=0; i < textarray.length; i++){
    			addNew("text", loadText[i]); }
    	}
    			
	</script>
	<body onload = "localTextLoad()">
		<label for="demo">Enter Task</label>
		<input required type="text" id="demo" size=40 placeholder = "Enter Your Task Here" onfocus="if(this.value == 'Enter Your Task Here') { this.value = '';}" value="Enter Your Task Here">
		<select id="priority">
			<option>High</option>
			<option>Medium</option>
			<option>Low</option>
		</select>
		<br>
		<p>Your task list is: </p>
		<ul id="listText"></ul>
		<input type='button' onclick='addListItem()' value='Submit' />
	</body>
</html>
			
			